<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Django</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
                    <img src="media/logo-django.png" style="border:0px;background:none; width:200px;"/>
                    <p>The web framework for perfectionists with deadlines</p>

                </section>
                <section>
                    <h2>Agenda</h2>
                    <ul>
                        <li>Introducción</li>
                        <li>¿Qué no es Django?</li>
                        <li>¿Qué es Django?</li>
                        <li>¿MVC o MTV?</li>
                        <li>Modelos</li>
                        <li>Vistas</li>
                        <li>Plantillas</li>
                        <li>Testing</li>
                        <li>y mucho más...</li>
                    </ul>


                </section>
				<section>
                    <section>
                        <h2>Iniciemos..</h2>
                        <code>
                            django-admin.py startproject hellodjango
                        </code>
                    </section>
                    <section>
                        <h2>¿Qué no es Django?</h2>
                        <img src="media/no_es_django.png"/>
                        <aside class="notes">
                            Dyango => José Gómez Romero
                        </aside>
                    </section>
                    <section>
                        <h2>¿Qué es Django?</h2>
                        <p>
                            Django es un framework de desarrollo web de código abierto, escrito en Python.
                        </p>
                        <aside class="notes">
                            el framework fue nombrado en alusión al guitarrista de jazz gitano Django Reinhardt.
                            desarrollado por Adrian Holovaty, Simon Willison, Jacob Kaplan-Moss y Wilson Miner mientras
                            trabajaban en World Online(Kasas??), y originalmente se utilizó para administrar tres sitios web de
                            noticias: The Lawrence Journal-World, lawrence.com y KUsports.com
                            liberada al público bajo una licencia BSD en julio de 2005; 2008 Django software fundation
                    	</aside>
                    </section>

                    <section>
                        <h2>Características principales:</h2>
                        <ul>
                            <li>Tremendamente rápido (DRY) centrate en escribir tu aplicación.</li>
                            <li>Multitud de componentes reutilizables(plug and play apps).</li>
                            <li>No se olvida de la seguridad</li>
                            <li>Permite la escalabilidad</li>
                            <li>Versatilidad</li>
                        </ul>
                        <aside class="notes">
                            1. Modelos, ORM, CBV, aplicaciones de terceros que nos permite añadir funcionalidades
                            2. Django se encarga de la configuración, autenticación, la administración de contenidos, cache, sesiones, etc...
                            3. Protección contra SQL injection, XSS, CSRF, entre otros
                            4. Trabajo con multiples bases de datos
                            5. Todo tipo de aplicaciones
                        </aside>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>¿MVC o MTV?</h2>
                        <p>Model, View, Controller</p>
                        <p>Model, Template, View</p>
                        <aside class="notes">
                            M: modelo (representación de la información)
                            V: Vista (Cómo se va a mostrar esa información)
                            C: Controlador (Responde a las peticiones, decide cuales datos)
                            --
                            M: modelo (representación de la información)
                            T: Template (Cómo se va a mostrar esa información)
                            V: Controlador (Responde a las peticiones)
                        </aside>
                    </section>
                    <section>
                        <h2>¿MVC o MTV?</h2>
                        <blockquote>
                            "At the end of the day, of course, it comes down to getting stuff done. And, regardless of how things are named, Django gets stuff done in a way that’s most logical to us."
                        </blockquote>
                        <p>Fuente: <a href="https://docs.djangoproject.com/en/1.11/faq/general/#django-appears-to-be-a-mvc-framework-but-you-call-the-controller-the-view-and-the-view-the-template-how-come-you-don-t-use-the-standard-names">
                            Django FAQ</a>
                        </p>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Models</h2>
                        <pre><code>
    class Person(models.Model):
        first_name = models.CharField(max_length=30)
        last_name = models.CharField(max_length=30)
                        </code></pre>
                        <aside class="notes">
                            Crear modelos de datos desde Python.
                            API para acceso a la base de datos.
                            Aún se puede escribir SQL si es necesario.
                            * Cada modelo es una subclase de "models.Model"
                            * Cada atributo del modelo es un campo en la base de datos
                        </aside>
                    </section>
                    <section>
                        <h2>Consultas</h2>
                        <pre><code>
    $ Person.objects.all()
    $ Person.objects.filter(first_name='Carlos')
    $ Person.objects.exclude(last_name='Perez')
                        </pre></code>
                        <aside class="notes">

                        </aside>
                    </section>
                    <section>
                        <h2>Migraciones</h2>
                        <pre><code>
    $ python manage.py makemigrations
    $ python manage.py migrate
                        </pre></code>
                        <aside class="notes">
                            Proyectar los cambios hechos a los modelos en las tablas de la base de datos
                            south (< 1.6)
                        </aside>
                    </section>
                    <section>
                        <h2>Mucho más</h2>
                        <aside class="notes">
                            Query Expressions - consultas avanzadas
                            Ejecutar SQL
                            Soporte para multiples bases de datos
                            Fixtures - datos iniciales
                        </aside>
                    </section>

                </section>

                <section>
                    <section>
                        <h2>Views</h2>
                        <aside class="notes">
                            Responde a las peticiones
                            Decide qué información se va a mostrar (el cómo depende de las vistas)
                            URLconf -> View
                            Decoradores
                        </aside>
                    </section>
                    <section>
                        <h2>Vistas basadas en funciones</h2>
                        <pre><code>
    def hello(request, name):
        persons = Person.objects.all()
        return render("persons.html", {'list': persons})
                        </pre></code>
                    </section>
                    <section>
                        <h2>Vistas basadas en clases</h2>
                        <pre><code>
    class PersonsListView(ListView):
        model = models.Person

    class PersonsCreateView(CreateView):
        model = models.Person
        form_class = forms.PersonForm
                        </pre></code>
                        <aside class="notes">
                            Una forma distinta de responder a las peticiones
                            Permiten organizar y reutilizar el código
                        </aside>
                    </section>
                    <section>
                        <h2>El formulario...</h2>
                        <pre><code>
    class PersonForm(forms.ModelForm):
        class Meta:
            model = models.Person
            fields = ('first_name', 'last_name',)

                        </pre></code>
                        <aside class="notes">
                            Una forma distinta de responder a las peticiones
                            Permiten organizar y reutilizar el código
                        </aside>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Templates</h2>
                        <aside class="notes">
                            Generación dinámica de html
                            Sistema de plantillas propio + jinja2
                        </aside>
                    </section>
                    <section>
                        <h2>Un ejemplo...</h2>
                        <pre><code>
    &lt;html&gt;
        &lt;head&gt;
    		&lt;meta charset="utf-8"&gt;
    		&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;
    		&lt;title&gt; {% block page-title %}Django{% endblock %} &lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            {% block content %}
            {% endblock %}
        &lt;/body&gt;
    &lt;/html>
                    </pre></code>
                    </section>
                    <section>
                        <h2>Y entonces...</h2>
                        <pre><code>
            {% block content %}
            &lt;h2&gt; Lista de personas &lt;/h2&gt;
            &lt;ul&gt;
            {% for person in persons %}
                &lt;li&gt;
                {{ person.first_name }}
                &lt;/li&gt;
            {% endfor %}
            &lt;/ul&gt;
            {% endblock %}
                    </pre></code>
                    </section>
                    <section>
                        <h2>Y también...</h2>
                        <pre><code>
            {% block content %}
            &lt;h2&gt; Registrar una persona &lt;/h2&gt;
            &lt;form method="POST"&gt;
            {{ form.as_table}}
            &lt; button type='submit' &gt; Guardar &lt;/button&gt;
            &lt;/form&gt;
            {% endblock %}
                    </pre></code>
                    </section>
                </section>
                <section>
                        <h2>Testing</h2>
                        <pre><code>
    from django.test import TestCase
    from .forms import PersonForm

    class PersonFormTestCases(TestCase):

        def test_person_form(self):
            data_test = {'first_name' : Juan,
                         'last_name': 'Valdes'}
            tested_form = PersonForm(data=data_test)
            self.assertTrue(tested_form.is_valid())

                        </pre></code>
                    <aside class="notes">
                        ...
                        Usa la libreria standard de python: unittest.
                        Tiene un enfoque basado en clases.
                        La clase de django corre cada test en una transaccion aislada

                    </aside>
                </section>
                <section>
                    Y la lista sigue...
                    <aside class="notes">
                        Formularios
                        Admin django
                        Internacionalización

                    </aside>
                </section>

                <section><h2>Gracias</h2></section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
                loop: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
